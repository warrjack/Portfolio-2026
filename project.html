<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Project â€” Portfolio</title>
    <meta name="description" content="Project details.">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
      :root { color-scheme: dark; }
      body { font-family: "Space Grotesk", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
      html { scroll-behavior: smooth; }
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-thumb { background: #27272a; border-radius: 999px; }
      .fade-enter { opacity: 0; }
      .fade-enter-active { opacity: 1; transition: opacity 500ms ease; }
    </style>
  </head>
  <body class="bg-[#0b0d10] text-slate-200 selection:bg-[#F4BF80]/20 antialiased overflow-x-hidden">
    <!-- Accessibility: skip link -->
    <a class="sr-only focus:not-sr-only absolute left-4 top-4 rounded px-2 py-1 bg-black/60 text-white text-sm" href="#main-content">Skip to content</a>

    <!-- Main Content -->
    <main id="main-content" class="fade-enter-active min-h-screen w-full overflow-y-auto bg-[#0b0d10] transition-opacity duration-300">
      <div class="sticky top-0 z-10 border-b border-white/5 bg-[#0b0d10]/90 backdrop-blur">
        <div class="mx-auto max-w-5xl px-4 sm:px-6">
          <div class="flex h-16 items-center justify-between">
            <a href="portfolio.html" class="group flex items-center gap-2 text-sm font-medium text-slate-400 hover:text-white transition-colors">
              <i data-lucide="arrow-left" class="h-4 w-4 transition-transform group-hover:-translate-x-1"></i>
              Back
            </a>
          </div>
        </div>
      </div>
      <div class="mx-auto max-w-5xl px-4 py-12 sm:px-6">
        <div class="grid lg:grid-cols-[2fr,1fr] gap-12">
          <div class="space-y-8">
            <!-- Carousel Container -->
            <div class="relative aspect-video w-full overflow-hidden rounded-xl bg-zinc-900 border border-white/10 group">
              <!-- Slider Track -->
              <div id="modal-carousel-track" class="flex h-full w-full transition-transform duration-500 ease-out">
                <!-- Images injected via JS -->
              </div>
              
              <!-- Carousel Controls -->
              <button onclick="prevSlide()" class="absolute left-4 top-1/2 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white opacity-0 backdrop-blur hover:bg-black/70 group-hover:opacity-100 transition-all duration-300 z-10">
                <i data-lucide="chevron-left" class="h-5 w-5"></i>
              </button>
              <button onclick="nextSlide()" class="absolute right-4 top-1/2 -translate-y-1/2 rounded-full bg-black/50 p-2 text-white opacity-0 backdrop-blur hover:bg-black/70 group-hover:opacity-100 transition-all duration-300 z-10">
                <i data-lucide="chevron-right" class="h-5 w-5"></i>
              </button>
              
              <!-- Dots -->
              <div id="modal-carousel-dots" class="absolute bottom-4 left-1/2 flex -translate-x-1/2 gap-2 z-10">
                <!-- Dots injected via JS -->
              </div>
            </div>

            <div>
              <h1 id="modal-title" class="text-3xl font-bold text-white tracking-tight"></h1>
              <p id="modal-subtitle" class="mt-2 text-lg text-slate-400"></p>
            </div>
            <div class="prose prose-invert prose-slate max-w-none">
              <p id="modal-description" class="text-slate-300 leading-relaxed"></p>
            </div>
          </div>
          <div class="space-y-6">
            <div class="rounded-xl border border-white/10 bg-white/5 p-6">
              <h3 class="text-sm font-semibold text-white">Technologies</h3>
              <div id="modal-stack" class="mt-4 flex flex-wrap gap-2"></div>
            </div>
            <div class="rounded-xl border border-white/10 bg-white/5 p-6">
              <h3 class="text-sm font-semibold text-white">Project Details</h3>
              <dl class="mt-4 space-y-4 text-sm">
                <div class="flex justify-between border-b border-white/5 pb-2">
                  <dt class="text-slate-500">Started</dt>
                  <dd id="modal-started" class="text-slate-200 text-right"></dd>
                </div>
                <div class="flex justify-between border-b border-white/5 pb-2">
                  <dt class="text-slate-500">Last Updated</dt>
                  <dd id="modal-updated" class="text-slate-200 text-right"></dd>
                </div>
                <div class="flex justify-between pt-2">
                  <dt class="text-slate-500">Role</dt>
                  <dd class="text-slate-200 text-right">Sole Developer</dd>
                </div>
              </dl>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script>
      lucide.createIcons();

      // Project data
      const mainProjects = [
        {
          title: "Vibe Coding",
          subtitle: "Editor Tools",
          desc: "Extensions for flow state.",
          stack: ["TypeScript", "VS Code API"],
          started: "Aug 2024",
          updated: "Dec 2024",
          images: [
            "https://hoirqrkdgbmvpwutwuwj.supabase.co/storage/v1/object/public/assets/assets/4734259a-bad7-422f-981e-ce01e79184f2_1600w.jpg",
            "https://images.unsplash.com/photo-1542831371-29b0f74f9713?q=80&w=1600&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=1600&auto=format&fit=crop"
          ]
        },
        {
          title: "Data Scraper",
          subtitle: "Python ETL",
          desc: "Financial data pipeline.",
          stack: ["Python", "Pandas", "AWS"],
          started: "Jan 2023",
          updated: "Oct 2023",
          images: [
            "https://images.unsplash.com/photo-1555099962-4199c345e5dd?q=80&w=1000&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=1000&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1543286386-2e659306cd6c?q=80&w=1000&auto=format&fit=crop"
          ]
        },
        {
          title: "3D Engine Core",
          subtitle: "Unity Framework",
          desc: "Mobile physics engine.",
          stack: ["C#", "Unity", "HLSL"],
          started: "Mar 2021",
          updated: "May 2022",
          images: [
            "https://images.unsplash.com/photo-1605647540924-852290f6b0d5?q=80&w=1000&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1614741118881-1e2593882774?q=80&w=1000&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&w=1000&auto=format&fit=crop"
          ]
        },
        {
          title: "SaaS Template",
          subtitle: "Next.js Starter",
          desc: "B2B SaaS boilerplate.",
          stack: ["Next.js", "Stripe", "Postgres"],
          started: "Nov 2023",
          updated: "Feb 2025",
          images: [
            "https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1519389950473-47ba0277781c?q=80&w=1200&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=1200&auto=format&fit=crop"
          ]
        }
      ];

      // Carousel state
      let currentSlide = 0;
      let totalSlides = 0;

      function updateCarousel() {
        const track = document.getElementById('modal-carousel-track');
        track.style.transform = `translateX(-${currentSlide * 100}%)`;
        
        const dots = document.getElementById('modal-carousel-dots').children;
        Array.from(dots).forEach((dot, idx) => {
          if (idx === currentSlide) {
            dot.classList.remove('bg-white/30');
            dot.classList.add('bg-white');
          } else {
            dot.classList.add('bg-white/30');
            dot.classList.remove('bg-white');
          }
        });
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
      }

      function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateCarousel();
      }

      function generateProjectData(index) {
        const techs = [
          { name: 'Python', color: 'text-emerald-400' },
          { name: 'Unity', color: 'text-blue-400' },
          { name: 'HTML/CSS', color: 'text-orange-400' },
          { name: 'React', color: 'text-cyan-400' },
          { name: 'Rust', color: 'text-red-400' }
        ];
        const types = ['Script', 'Game', 'App', 'Bot', 'Site'];
        const tech = techs[index % techs.length];
        const type = types[index % types.length];
        
        return {
          title: `${tech.name} ${type} ${index + 1}`,
          subtitle: `${tech.name} Development`,
          desc: `A robust ${tech.name} project focusing on performance and scalability.`,
          stack: [tech.name, 'Git', 'CI/CD'],
          started: "Jan 202" + (index % 5),
          updated: "Mar 2025",
          images: [
            "https://images.unsplash.com/photo-1555099962-4199c345e5dd?q=80&w=600&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1627398242454-45a1465c2479?q=80&w=600&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1587620962725-abab7fe55159?q=80&w=600&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1517694712202-14dd9538aa97?q=80&w=600&auto=format&fit=crop",
            "https://images.unsplash.com/photo-1605647540924-852290f6b0d5?q=80&w=600&auto=format&fit=crop"
          ][index % 5],
          techColor: tech.color
        };
      }

      // Get project ID from URL
      const params = new URLSearchParams(window.location.search);
      const projectId = parseInt(params.get('id')) || 0;
      const project = projectId < 4 ? mainProjects[projectId] : generateProjectData(projectId);

      // Populate page on load
      window.addEventListener('load', () => {
        document.getElementById('modal-title').textContent = project.title;
        document.getElementById('modal-subtitle').textContent = project.subtitle;
        document.getElementById('modal-description').textContent = project.desc + " This project represents a deep dive into scalable architecture. Starting from " + project.started + ", it evolved into a robust solution.";

        document.getElementById('modal-started').textContent = project.started;
        document.getElementById('modal-updated').textContent = project.updated;

        // Populate carousel
        const track = document.getElementById('modal-carousel-track');
        const dotsContainer = document.getElementById('modal-carousel-dots');
        track.innerHTML = '';
        dotsContainer.innerHTML = '';
        
        const imagesList = project.images;
        totalSlides = imagesList.length;
        currentSlide = 0;

        imagesList.forEach((src) => {
          const slide = document.createElement('div');
          slide.className = "flex-none w-full h-full";
          slide.innerHTML = `<img src="${src}" alt="${project.title} screenshot" loading="lazy" decoding="async" class="h-full w-full object-cover" />`;
          track.appendChild(slide);

          const dot = document.createElement('div');
          dot.className = "h-1.5 w-1.5 rounded-full transition-colors bg-white/30";
          dotsContainer.appendChild(dot);
        });
        
        updateCarousel();

        // Populate stack
        const stackContainer = document.getElementById('modal-stack');
        stackContainer.innerHTML = '';
        project.stack.forEach(tech => {
          const s = document.createElement('span');
          s.className = "rounded-md border border-white/10 bg-white/5 px-2 py-1 text-xs text-slate-300";
          s.textContent = tech;
          stackContainer.appendChild(s);
        });

        lucide.createIcons();
      });
    </script>
  
  </body>
</html>